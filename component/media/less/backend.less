/*
 * @package   AkeebaSubs
 * @copyright Copyright (c)2010-2020 Nicholas K. Dionysopoulos / Akeeba Ltd
 * @license   GNU General Public License version 3, or later
 */

@import "frontend/variables";

// region Component icon
.icon-akeebasubs,
.icon-akeebasubs-j4 {
  &:before {
    font-family: 'Akeeba Products' !important;
    font-style: normal !important;
    font-weight: normal !important;
    line-height: 1 !important;

    display: inline-block;
    -webkit-font-smoothing: antialiased;
    position: relative;
    -moz-osx-font-smoothing: grayscale;

    content: '\0053';
  }
}

// endregion

// region Level
label.title, input.title {
  font-weight: bold;
  font-size: larger;
}

// endregion

// region Subscriptions
.gravatar {
  margin-right: 3px;
}

.akeebasubs-subscription-netamount {
  display: block;
  color: @green;
}

.akeebasubs-subscription-discountamount {
  display: block;
  color: @red;
}

.akeebasubs-subscription-taxamount {
  display: block;
  color: lighten(@red, 20%);
  font-style: italic;
}

.akeebasubs-subscription-grossamount {
  display: block;
  font-weight: bold;
  font-size: larger;
  color: @grey;
  border-top: thin solid darken(@light-grey, 20%);
}

.akeebasubs-subscription-amount {
  text-align: right;
  width: 60px;
}

.akeeba-renderer-fef {
  table[class*=akeeba-table][class*=striped] {
    tbody > tr {
      &.expired {
        background: lighten(@red, 30%);
      }

      &.pending-renewal {
        background: lighten(@green, 30%);
      }

      &.new {
        background: lighten(@orange, 30%);
      }

      &.canceled {
        background: lighten(@grey, 30%);
      }

      &:nth-child(2n+1) {
        &.expired {
          background: lighten(@red, 35%);
        }

        &.pending-renewal {
          background: lighten(@green, 35%);
        }

        &.new {
          background: lighten(@orange, 35%);
        }

        &.canceled {
          background: lighten(@grey, 35%);
        }
      }
    }
  }
}

.akeebasubs-coupon-discount-value {
  color: @red;
  font-weight: bold;

  &:before {
    content: '- ';
  }
}

.akeebasubs-coupon-discount-percent {
  color: @teal;
  font-weight: bold;
}

.akeebasubs-coupon-discount-lastpercent {
  color: @orange;
  font-weight: bold;
}

// endregion


// region Control Panel

#refreshMessage {
  h3, p {
    text-align: center;
  }
}

#akthrobber {
  display: block;
  width: 16px;
  height: 16px;
  margin: auto;
  padding-top: 142px;
}

#aksaleschart {
  width: 100%;
  min-width: 450px;
  height: 300px;
}

#aklevelschart {
  width: 100%;
  min-width: 450px;
  height: 300px;
}

#akeebasubs_graph_datepicker,
#akeebasubs_graph_todatepicker {
  width: 80px;
}

// endregion

// region Reusable elements

.akeebasubs-susbcription-publishup {
  text-align: left;
}

.akeebasubs-susbcription-publishdown {
  text-align: right;
  color: @red;
}


.akeebasubs-subscription-discount-coupon {
  font-weight: bold;
  color: @green;
}

.akeebasubs-subscription-discount-upgrade {
  font-weight: bold;
  color: @orange;
}

.akeebasubs-subscription-discount-none {
  font-weight: normal;
  font-style: italic;
  font-size: xx-small;
  color: @light-grey;
}

.akeebasubs-subscription-processor {
  display: block;
  clear: left;
  font-weight: bold;
  color: darken(@teal, 20%);
}

.akeebasubs-subscription-ua {
  display: block;
  clear: left;
  font-weight: bold;
  color: darken(@teal, 20%);
}

.akeebasubs-panel-force-top-margin {
  margin-top: 20px !important;
}

// endregion

// region FOF user display
.fof-usersfield-avatar {
  padding-right: 6pt;
}

.fof-usersfield-username {
  font-weight: bold;
}

.fof-usersfield-id {
  padding-left: 6pt;
  font-size: smaller;
  font-style: italic;
}

.fof-usersfield-id:before {
  content: "["
}

.fof-usersfield-id:after {
  content: "]"
}

.fof-usersfield-name {
  display: block;
}

// endregion

// region Joomla styling fixes

/** Joomla! 3 workaround for calendar fields */
div.task-browse input#publish_up {
  width: 90px;
}

div.task-browse input#publish_down {
  width: 90px;
}

div.task-browse input#since {
  width: 90px;
}

/**
 * Joomla! 3.7 made success buttons fixed width.
 */
#toolbar .btn-success {
  width: auto !important;
}

/**
 * Joomla! 3.7 broke span6 margins x_x
 */

// Joomla 3 overrides
div.joomla-version-3 {

	// Improve visuals in dark mode by replacing the border around the component with our own background color
	padding: 20px 20px;
	margin: -20px -20px;

	// Toolbar improvements
	div#toolbar {

		// Joomla 3.7 made success buttons fixed width
		.btn-success {
			width: auto !important;
		}

		// Joomla! 3.x missing icon classes
		div#toolbar-back button.btn span.icon-back::before {
			content: "î€ˆ";
		}

		div#toolbar-restore button.btn span.icon-restore::before {
			content: "R";
		}
	}

	// Calendar styling fix
	.akeeba-filter-joomlacalendarfix {
		vertical-align: middle;
		padding-top: 0.35em;
	}

	.btn-toolbar {
		tr.calendar-head-row {
			font-size: 8pt;
		}
	}

	/**
     * Joomla! 3 forces margins on form inputs, breaking our forms. Reset them to inherited values.
     */
	.akeeba-form {
		select,
		textarea,
		input[type="text"],
		input[type="password"],
		input[type="datetime"],
		input[type="datetime-local"],
		input[type="date"],
		input[type="month"],
		input[type="time"],
		input[type="week"],
		input[type="number"],
		input[type="email"],
		input[type="url"],
		input[type="search"],
		input[type="tel"],
		input[type="color"],
		.uneditable-input {
			margin-bottom: inherit;
		}
	}

	/**
     * Joomla! 3.x workarounds for missing icon classes
     */

	.icon-downarrow::before,
	.icon-arrow-down::before {
		content: "";
	}

	.icon-uparrow::before,
	.icon-arrow-up::before {
		content: "";
	}

	// Legacy row ordering -- TODO Remove me
	td.order {
		span {
			line-height: 16px;
			height: 16px;
			margin: 0;
			padding: 0;
		}

		input.text_area {
			width: 20px;
		}

		a.jgrid {
			span.state {
				background-repeat: no-repeat;
				height: 12px;
				margin-bottom: 2px;

				span.text {
					line-height: 16px;
				}
			}
		}
	}
}

// Filter bar style fixes
div.akeeba-filter-bar--right {
	text-align: right;
}

div.akeeba-filter-element {
	display: inline-block;
	margin-right: 0.5em;

	button[class*=--icon-only] {
		+ button[class*=--icon-only] {
			margin-left: 0;
		}

		[class*=akion-] {
			margin: 0;
			vertical-align: baseline;
		}
	}
}

div.akeeba-filter-bar {
	select.custom-select {
		min-width: 0;
		max-width: 115px;
	}
}

/**
 * Filter bar (above tables)
 */
.akeeba-renderer-fef form[class*=akeeba-form] [class*=akeeba-filter-bar-container] [class*=akeeba-form-section] {
	margin-bottom: 0;
}

// endregion

/**
 * Custom icon font
 */

@font-face {
  font-family: 'Akeeba-Subs-Payment-Methods';
  src: url('../fonts/Akeeba-Subs-Payment-Methods.eot?92io6m');
  src: url('../fonts/Akeeba-Subs-Payment-Methods.eot?92io6m#iefix') format('embedded-opentype'),
  url('../fonts/Akeeba-Subs-Payment-Methods.ttf?92io6m') format('truetype'),
  url('../fonts/Akeeba-Subs-Payment-Methods.woff?92io6m') format('woff'),
  url('../fonts/Akeeba-Subs-Payment-Methods.svg?92io6m#Akeeba-Subs-Payment-Methods') format('svg');
  font-weight: normal;
  font-style: normal;
}

[class^="akpayment-icon-"], [class*=" akpayment-icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'Akeeba-Subs-Payment-Methods' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;

  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.akpayment-icon-high_risk:before {
  content: "\e909";
}

.akpayment-icon-recuring_issue:before {
  content: "\e90a";
}

.akpayment-icon-cancel_recuring:before {
  content: "\e90b";
}

.akpayment-icon-recuring:before {
  content: "\e90c";
}

.akpayment-icon-state_n:before {
  content: "\e906";
}

.akpayment-icon-unknown:before {
  content: "\e908";
}

.akpayment-icon-state_p:before {
  content: "\e907";
}

.akpayment-icon-paypal:before {
  content: "\e900";
}

.akpayment-icon-visa:before {
  content: "\e901";
}

.akpayment-icon-mastercard:before {
  content: "\e902";
}

.akpayment-icon-amex:before {
  content: "\e903";
}

.akpayment-icon-bank:before {
  content: "\e904";
}

.akpayment-icon-apple:before {
  content: "\e905";
}

.akpayment-icon-state_c:before {
  content: "\e93b";
}

.akpayment-icon-state_x:before {
  content: "\ea0f";
}
